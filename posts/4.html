<!DOCTYPE html><html lang="en"><head><title>Follow-up to "Admitting that Functional Programming Can Be Awkward"</title><link rel="alternate" type="application/atom+xml" title="Atom feed" href="atom.xml"><meta name="viewport" content="width=device-width,initial-scale=1"><style>a,#p21{text-decoration:none}a:link{color:#00D}a:visited{color:purple}a:hover{text-decoration:underline}body,div{margin:0;padding:0;box-sizing:border-box}body{font:100%/1.5 verdana;color:#222}p,ul,blockquote,pre{margin:0 0 1em}ul{list-style:none;padding-left:1em;text-indent:-1em}h1,h2{font:700 1.27em verdana;margin:0 0 .5em}h1{color:#117}blockquote{font-style:italic}pre,code{font:700 1em "courier new",monospace}pre{overflow:auto}.box{margin:0 auto;padding:0 12px}.s{font:.91em/1.4 verdana}.ab a{display:block;margin:0 0 1em;padding-left:1em;text-indent:-1em}#top{background:#117;color:#FFF;margin:0 0 .67em;border:0 solid #7373D9;border-width:0 0 12px;padding:2em 0 0}#p21{font:700 2.5em georgia;color:#FFF}#perm{color:#222;background:#DDD;border:1px solid #BBB;padding:2px}@media screen and (min-width:768px){blockquote,pre{margin-left:1.25em}.box{max-width:840px}#c1{width:71%;float:left}#c2{width:26%;float:right}}</style></head><body><div id="top"><div class="box"><a id="p21" href="/">programming in&nbsp;the<br>twenty-first century</a><p>It's not about technology for its own sake. It's about being able to implement your ideas.</p></div></div><div class="box"><div id="c1"><h1>Follow-up to "Admitting that Functional Programming Can Be Awkward"</h1><p><a href="3.html">Admitting that functional programming can be awkward</a> drew a much bigger audience than I expected, so here's some insight into why I wrote it, plus some responses to specific comments.</p><p>I started learning some functional programming languages in 1999, because I was looking for a more pleasant way to deal with complex programming tasks.  I eventually decided to focus on Erlang (the reasons for which are probably worthy of an entire entry), and after a while I found I was not only using Erlang for some tasks I would have previously used Perl for (and truth be told, I still use Perl sometimes); I was able to approach problems that would have been just plain nasty in C.  But I also found that some tasks were surprisingly hard in Erlang, clearly harder than banging out an imperative solution.</p><p>Video games are good manifestation of a difficult problem to approach functionally: lots of tangled interactions between actors.  I periodically search for information on video games written in functional languages, and I always get the same type of results.  There's much gushing about how wonderful functional programming is, how games are complex, and how the two are a great match.  Eight years ago I even <a href="http://www.gamasutra.com/view/feature/3367/toward_programmer_interactivity_.php">did this myself</a>, and I keep running into it as a cited source about the topic.  Then there's <a href="http://www.haskell.org/haskellwiki/Functional_Reactive_Programming">Functional Reactive Programming</a>, but the demos are always bouncing balls and Pong and Space Invaders--which are trivial to write in any language--and it's not at all clear if it scales up to arbitrary projects. There are also a handful of games written in procedural or object-oriented styles in homebrew Lisp variants, and this is often equated with "game in a functional language."</p><p>My conclusion is that there's very little work in existence or being done on how to cleanly approach video game-like problems in functional languages.  And that's okay; it's unexplored (or at least undocumented) territory. I wrote "Admitting..." because of my own experiences writing game-like code in Erlang.  I don't think the overall point was Erlang-specific, and it would apply to pure subsets of ML, Scheme, etc.  It wasn't meant as a cry for help or a way of venting frustration.  If you're writing games in functional languages, I'd love to hear from you!</p><p>Now some responses to specific comments.</p><p><b>All you have to do is pass the world state to each function and return a new state.</b></p><p>True, yes, but...yuck. It can be clunky in a language with single-assignment.  And what is this really gaining you over C?</p><p><b>All you have to do is make entities be functions of time.  You pass in a time and the position and state of that entity at that time are returned.</b></p><p>For a bouncing ball or spinning cube, yes, that's easy.  But is there a closed-form solution for a game where entities can collide with each other and react to what the player is doing?</p><p><b>All languages suck at something.  You should use a multi-paradigm language.</b></p><p>Fair enough.</p><p><b>You used the word "modify" which shows you don't understand how functional programming works.</b></p><p>If a spider does something that causes the spawn rate of ants to change, then of course the old rate isn't modified to contain the new value.  But <i>conceptually</i> the system needs to know that the new rate is what matters, so somehow that data needs to propagate up out of a function in such a way that it gets passed to the insect spawning function from that point on.  I was using "modify" in that regard.</p><p class="s"><a href="4.html" id="perm">permalink</a> <i>November 13, 2007</i></p><h1>previously</h1><ul><li><a href=3.html>Admitting that Functional Programming Can Be Awkward</a><li><a href=2.html>On the Perils of Benchmarking Erlang</a><li><a href=1.html>A Deeper Look at Tail Recursion in Erlang</a></ul></div><div id="c2"><h1><a href="archives.html">archives</a></h1><p><b><a href="https://twitter.com/dadgumjames">twitter</a></b> / <b><a href="mailto:james.hague@gmail.com">mail</a></b></p><div class="s"><p>I'm James Hague, a <a href="56.html">recovering programmer</a> who has been designing video games since the 1980s. <a href="195.html">Programming Without Being Obsessed With Programming</a> and <a href="177.html">Organizational Skills Beat Algorithmic Wizardry</a> are good starting points. For the older stuff, try the <a href="162.html">2012 Retrospective</a>.</p><p>Where are <a href="57.html">the comments</a>?</p></div></div></div>